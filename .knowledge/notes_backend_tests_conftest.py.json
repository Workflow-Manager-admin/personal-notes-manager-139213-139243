{"is_source_file": true, "format": "Python", "description": "This file is a test configuration script (conftest.py) for pytest, setting up fixtures and dependencies for testing a FastAPI application with SQLAlchemy and an SQLite test database. It provides test database setup, client overrides, and user authentication helpers.", "external_files": ["src.api.main", "models"], "external_methods": ["fastapi.testclient.TestClient", "sqlalchemy.create_engine", "sqlalchemy.orm.sessionmaker", "sqlalchemy.pool.StaticPool"], "published": ["sqlite_url", "engine", "tables", "db_session", "client", "user_data", "second_user_data", "register_and_auth", "auth_header", "second_auth_header"], "classes": [], "methods": [{"name": "sqlite_url()", "description": "Fixture to provide a SQLite in-memory database URL for testing.", "scope": "", "scopeKind": ""}, {"name": "engine(sqlite_url)", "description": "Fixture for a persistent in-memory SQLite engine for the test session.", "scope": "", "scopeKind": ""}, {"name": "tables(engine)", "description": "Creates and drops database tables for the test session.", "scope": "", "scopeKind": ""}, {"name": "db_session(engine, tables)", "description": "Provides a SQLAlchemy session for isolated test usage.", "scope": "", "scopeKind": ""}, {"name": "client(db_session)", "description": "Fixture for FastAPI TestClient with test database dependency override.", "scope": "", "scopeKind": ""}, {"name": "user_data()", "description": "Fixture returning default user registration data.", "scope": "", "scopeKind": ""}, {"name": "second_user_data()", "description": "Fixture returning second user's registration data.", "scope": "", "scopeKind": ""}, {"name": "register_and_auth(client, username, email, password)", "description": "Helper function to register a user and obtain a JWT token.", "scope": "", "scopeKind": ""}, {"name": "auth_header(client, user_data)", "description": "Fixture providing authorization header for default test user.", "scope": "", "scopeKind": ""}, {"name": "second_auth_header(client, second_user_data)", "description": "Fixture providing authorization header for second test user.", "scope": "", "scopeKind": ""}, {"name": "override_get_db()", "scope": "client", "scopeKind": "function", "description": "unavailable"}], "calls": ["pytest.fixture", "os.path.abspath", "os.path.join", "sys.path.append", "create_engine", "sessionmaker", "Base.metadata.create_all", "Base.metadata.drop_all", "app.dependency_overrides", "TestClient", "client.post"], "search-terms": ["conftest", "pytest fixtures", "FastAPI testing", "SQLAlchemy in-memory database", "test client override", "JWT auth test setup"], "state": 2, "file_id": 10, "knowledge_revision": 23, "git_revision": "", "ctags": [{"_type": "tag", "name": "auth_header", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-139213-139243/notes_backend/tests/conftest.py", "pattern": "/^def auth_header(client, user_data):$/", "language": "Python", "kind": "function", "signature": "(client, user_data)"}, {"_type": "tag", "name": "client", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-139213-139243/notes_backend/tests/conftest.py", "pattern": "/^def client(db_session):$/", "language": "Python", "kind": "function", "signature": "(db_session)"}, {"_type": "tag", "name": "db_session", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-139213-139243/notes_backend/tests/conftest.py", "pattern": "/^def db_session(engine, tables):$/", "language": "Python", "kind": "function", "signature": "(engine, tables)"}, {"_type": "tag", "name": "engine", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-139213-139243/notes_backend/tests/conftest.py", "pattern": "/^def engine(sqlite_url):$/", "language": "Python", "kind": "function", "signature": "(sqlite_url)"}, {"_type": "tag", "name": "override_get_db", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-139213-139243/notes_backend/tests/conftest.py", "pattern": "/^    def override_get_db():$/", "file": true, "language": "Python", "kind": "function", "signature": "()", "scope": "client", "scopeKind": "function"}, {"_type": "tag", "name": "register_and_auth", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-139213-139243/notes_backend/tests/conftest.py", "pattern": "/^def register_and_auth(client, username, email, password):$/", "language": "Python", "kind": "function", "signature": "(client, username, email, password)"}, {"_type": "tag", "name": "second_auth_header", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-139213-139243/notes_backend/tests/conftest.py", "pattern": "/^def second_auth_header(client, second_user_data):$/", "language": "Python", "kind": "function", "signature": "(client, second_user_data)"}, {"_type": "tag", "name": "second_user_data", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-139213-139243/notes_backend/tests/conftest.py", "pattern": "/^def second_user_data():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "sqlite_url", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-139213-139243/notes_backend/tests/conftest.py", "pattern": "/^def sqlite_url():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "tables", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-139213-139243/notes_backend/tests/conftest.py", "pattern": "/^def tables(engine):$/", "language": "Python", "kind": "function", "signature": "(engine)"}, {"_type": "tag", "name": "user_data", "path": "/home/kavia/workspace/code-generation/personal-notes-manager-139213-139243/notes_backend/tests/conftest.py", "pattern": "/^def user_data():$/", "language": "Python", "kind": "function", "signature": "()"}], "hash": "b1d247642fe015619407f064dca8161f", "format-version": 4, "code-base-name": "notes_backend", "filename": "notes_backend/tests/conftest.py", "revision_history": [{"23": ""}]}